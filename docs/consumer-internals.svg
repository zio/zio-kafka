<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="471px" height="161px" viewBox="-0.5 -0.5 471 161" content="&lt;mxfile host=&quot;drawio-plugin&quot; modified=&quot;2024-07-14T08:44:56.565Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36&quot; etag=&quot;rTO66Sx8TvvqwuPqvec_&quot; version=&quot;22.1.22&quot; type=&quot;embed&quot;&gt;&lt;diagram id=&quot;23iRSUPoRavnBvh4doch&quot; name=&quot;Page-1&quot;&gt;5VnJcts4EP0aHkdFEtTiY+JlcshUUnGqZrlBJEShBBIKCFmSv34aBLgAoCKPi5I9lQsFNLG+97pBtAJ0Wxx+F3i7/oNnhAVxmB0CdBfEcbKYwlMZjtqA0EwbckEzbYo6wyN9JsYYGuuOZqSyGkrOmaRb25jysiSptGxYCL63m604s2fd4px4hscUM9/6J83kWlsX8byzfyI0XzczR7Mb/abATWOzk2qNM77vmdB9gG4F51KXisMtYQq7Bhfd7+HE23ZhgpTyJR0M7k+Y7czevu1Kxvk2iGcMRvi4FFDKVcm3xBO1A8kFgV9BfuxIJf1WaFK/rXYF0UuTVFJe+g0T1XDL6/UtBd8Q4beZ1lOSMqvHTLnIKgOkPDbsCL4rM6I2GEKP/ZpK8rjFqXq7BzmCbS0LBrUIipjRvIQyIys1fgUNaZl/rmt3cWf5yKXkhW37Zijumb4DctrwRGCjIJkPZgLJ65m5oM+8lLiZ3+APjcnhJIdRqwzwKMILIsURmjQdFkZMxpvipr7vtBk1rrPu67JRITb+kLdjd5KBglHNsILmnoI2eLXBPQ4dekDyW1VMj4wCTwKdJ2mpGf28bA043eQ1z192EoYhxl7pUJFAUXCJa52hu5vQRT4cB/kbG3gU+cAnA7jPRoA9ij3c/6mkILg4CXglicJ1SwSF6YAZbfra1c/xsKIH0oTjHtzRSHAmUwfPeEDI4QCgyRiAIg9QD0mIOx/U8QG1JePp5vualjZCduyB9g+UNe8ABXH8S72aTJvq321LqNwdrNqxX+ux1FMvybyDygEb1s93IiVWuJdY5ET2/NenpAf5dADxxiYIAy97shcxRIOZ4SunsLwudLke5DKpF2969c8xZyA0dwYKnYH0lr2BalW0236ZUJKLC+VAZU8nUGtlAuVOJapy7FVcjbSCiyy5TeLpGcW9XFx9Jc3eUkmo6eLG4v+spPB6SppeS0lRX0eT+fTnUjoRp6I3jVOnzo4ryctVxfy18koSa6AEXU5e/qfZpQKVJa/43ctLfzy9mZaQLYFXh6okPBPzRtTS4n936IWBdejNxzv0+lIaOgjfVl5JfCbCvDhUuTpdXExezS578jp1u7/C9XFxpesjmjr+i/z7TjwgFJeH11x3Yv+6E6ncCgACT76CR4YlDtADlB51wgUHvTSPQwugIG3U4TYK9/9bzrhyzZIrlOEGyZhjcjIwbt6koFmmJhkk2Q4oJgczHkGt6/wks3IzQNAYeZXYv2bMFEH3BZXB6eTXL8FD+/V1DR78j/Rnyn9rklwpL1VmU6geJZxCJWZASrjiwjhMBUgwJ/M5OmcpKXUC5z2x5qYlE5+0ZH4p1vzEtolc7/dEySg4tWmxVzH2IodMPOA7Ix0yUO3+udBfAd3fP+j+Xw==&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="100" y="40" width="110" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 104px; height: 1px; padding-top: 49px; margin-left: 104px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Runloop<br /><br />2. store request<br />3. resume partition<br />4. poll broker<br />5. send records</div></div></div></foreignObject><text x="104" y="61" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Runloop...</text></switch></g><path d="M 10 74 C 10 71.79 18.95 70 30 70 C 35.3 70 40.39 70.42 44.14 71.17 C 47.89 71.92 50 72.94 50 74 L 50 126 C 50 128.21 41.05 130 30 130 C 18.95 130 10 128.21 10 126 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(90,30,100)" pointer-events="all"/><path d="M 50 74 C 50 76.21 41.05 78 30 78 C 18.95 78 10 76.21 10 74" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(90,30,100)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 49px; height: 1px; padding-top: 100px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">kafka broker</div></div></div></foreignObject><text x="27" y="104" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">kafka br...</text></switch></g><path d="M 370 80 L 460 80 L 470 100 L 460 120 L 370 120 L 380 100 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 100px; margin-left: 371px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Zstream</div></div></div></foreignObject><text x="420" y="104" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Zstream</text></switch></g><path d="M 100 100 L 68.12 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 61.12 100 L 68.12 97.67 L 68.12 102.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 241 70 L 218.12 70" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 211.12 70 L 218.12 67.67 L 218.12 72.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 210 130 L 232.88 130" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 239.88 130 L 232.88 132.33 L 232.88 127.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 375.56 91.11 L 328.57 72.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 322.04 70.4 L 329.41 70.75 L 327.73 75.11 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 321 130 L 367.98 111.82" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 374.51 109.29 L 368.83 113.99 L 367.14 109.64 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 271 98 C 271 93.58 275.48 90 281 90 C 283.65 90 286.2 90.84 288.07 92.34 C 289.95 93.84 291 95.88 291 98 L 291 162 C 291 166.42 286.52 170 281 170 C 275.48 170 271 166.42 271 162 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(90,281,130)" pointer-events="all"/><path d="M 291 98 C 291 102.42 286.52 106 281 106 C 275.48 106 271 102.42 271 98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(90,281,130)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 60px; height: 1px; padding-top: 130px; margin-left: 245px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">records</div></div></div></foreignObject><text x="274" y="134" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">records</text></switch></g><rect x="350" y="40" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 92px; height: 1px; padding-top: 50px; margin-left: 350px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">1. Out of data? Send a request</div></div></div></foreignObject><text x="350" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">1. Out of data?...</text></switch></g><rect x="350" y="130" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 92px; height: 1px; padding-top: 140px; margin-left: 350px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">6. Emit records</div></div></div></foreignObject><text x="350" y="144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">6. Emit records</text></switch></g><rect x="0" y="0" width="470" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 472px; height: 1px; padding-top: 10px; margin-left: -1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">zio-kafka consumer internals for a single partition</div></div></div></foreignObject><text x="235" y="14" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">zio-kafka consumer internals for a single partition</text></switch></g><path d="M 271 38 C 271 33.58 275.48 30 281 30 C 283.65 30 286.2 30.84 288.07 32.34 C 289.95 33.84 291 35.88 291 38 L 291 102 C 291 106.42 286.52 110 281 110 C 275.48 110 271 106.42 271 102 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,281,70)" pointer-events="all"/><path d="M 291 38 C 291 42.42 286.52 46 281 46 C 275.48 46 271 42.42 271 38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,281,70)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 60px; height: 1px; padding-top: 70px; margin-left: 258px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">requests</div></div></div></foreignObject><text x="288" y="74" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">requests</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>